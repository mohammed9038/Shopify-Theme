{% comment %} 
      MK Header - Professional responsive header section
      Created by: MK Theme Development
       
      Features: 
      - Responsive design for mobile and desktop 
      - Multiple layout options 
      - Extensive customization settings 
      - Clean and professional code structure 
      - Uses existing theme components for consistency 
{% endcomment %}

<link
  rel="stylesheet"
  href="{{ 'component-list-menu.css' | asset_url }}"
  media="print"
  onload="this.media='all'">
<link
  rel="stylesheet"
  href="{{ 'component-search.css' | asset_url }}"
  media="print"
  onload="this.media='all'">
<link
  rel="stylesheet"
  href="{{ 'component-menu-drawer.css' | asset_url }}"
  media="print"
  onload="this.media='all'">
<link
  rel="stylesheet"
  href="{{ 'component-cart-notification.css' | asset_url }}"
  media="print"
  onload="this.media='all'">
<link
  rel="stylesheet"
  href="{{ 'section-mk-header.css' | asset_url }}"
  media="print"
  onload="this.media='all'">

{%- if settings.predictive_search_enabled -%}
  <link
    rel="stylesheet"
    href="{{ 'component-price.css' | asset_url }}"
    media="print"
    onload="this.media='all'">
{%- endif -%}

{%- if section.settings.menu_type_desktop == 'mega' -%}
  <link
    rel="stylesheet"
    href="{{ 'component-mega-menu.css' | asset_url }}"
    media="print"
    onload="this.media='all'">
{%- endif -%}

{%- style -%}
  .mk-header {
    position: relative;
    z-index: 3;
    background-color: rgb(var(--color-{{ section.settings.color_scheme }}-background));
    color: rgb(var(--color-{{ section.settings.color_scheme }}-text));
    {% if section.settings.show_border %}
      border-bottom: {{ section.settings.border_thickness }}px solid rgba(var(--color-foreground), {{ section.settings.border_opacity | divided_by: 100.0 }});
    {% endif %}
    margin-bottom: {{ section.settings.margin_bottom }}px;
  }

  {% if section.settings.enable_sticky_header %}
    .mk-header--sticky {
      position: sticky;
      top: 0;
      z-index: 3;
    }
  {% endif %}

  {% if section.settings.enable_transparent_header %}
    .mk-header--transparent {
      background-color: transparent;
      position: absolute;
      width: 100%;
      z-index: 4;
      border-bottom: none;
    }
  {% endif %}

  .mk-header__container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: {{ section.settings.padding_top }}px {{ section.settings.padding_horizontal }}px {{ section.settings.padding_bottom }}px;
    min-height: {{ section.settings.header_height_desktop }}px;
  }

  /* Desktop Layout */
  .mk-header__desktop {
    display: grid;
    {% case section.settings.desktop_layout %}
      {% when 'left_center_right' %}
        grid-template-columns: 1fr 2fr 1fr;
      {% when 'center_logo' %}
        grid-template-columns: 1fr;
        grid-template-rows: auto auto;
        text-align: center;
      {% when 'logo_right' %}
        grid-template-columns: 2fr 1fr;
    {% endcase %}
    align-items: center;
    gap: 2rem;
    width: 100%;
  }

  .mk-header__desktop-left {
    display: flex;
    {% case section.settings.logo_position %}
      {% when 'left' %}
        justify-content: flex-start;
      {% when 'center' %}
        justify-content: center;
      {% when 'right' %}
        justify-content: flex-end;
    {% endcase %}
  }

  .mk-header__desktop-center {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 1rem;
    width: 100%;
  }

  .mk-header__desktop-right {
    display: flex;
    justify-content: flex-end;
  }

  /* Mobile Layout */
  .mk-header__mobile {
    display: grid;
    grid-template-columns: auto 1fr auto;
    align-items: center;
    gap: 1rem;
    width: 100%;
  }

  .mk-header__mobile-left {
    display: flex;
    align-items: center;
    justify-content: flex-start;
  }

  .mk-header__mobile-center {
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    flex: 1;
  }

  .mk-header__mobile-right {
    display: flex;
    align-items: center;
    justify-content: flex-end;
  }

  /* Hamburger Menu Button Styling */
  .mk-header .header__icon--menu {
    width: 44px;
    height: 44px;
    min-width: 44px;
    min-height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: none !important;
    background-color: transparent !important;
    border: none !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    cursor: pointer;
    transition: all 0.3s ease;
    position: initial !important;
  }

  /* Header menu icon hover effect removed as requested */
  .mk-header .header__icon--menu:focus {
    outline: 2px solid rgba(var(--color-accent), 0.4);
    outline-offset: 2px;
    box-shadow: none !important;
  }
  }

  .mk-header .header__icon--menu svg {
    width: 24px;
    height: 24px;
    stroke: currentColor;
    fill: none;
    stroke-width: 1.5;
  }

  /* Remove any dropdown shadows from hamburger */
  .mk-header .header__icon--menu::before,
  .mk-header .header__icon--menu::after {
    display: none !important;
  }

  /* Logo Styling - Isolated component */
  .mk-header .mk-header__logo,
  .mk-header .mk-header__logo-link .mk-header__logo {
    width: {{ section.settings.logo_width }}px;
    max-width: {{ section.settings.logo_width }}px;
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .mk-header .mk-header__logo-link:hover .mk-header__logo {
    transform: scale(1.02) translateY(-1px);
    filter: brightness(1.05);
  }

  .mk-header .mk-header__logo-link {
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    border-radius: 8px;
    padding: 4px;
  }

  .mk-header .mk-header__logo-link:focus {
    outline: 2px solid rgba(var(--color-accent), 0.4);
    outline-offset: 2px;
  }

  @media screen and (max-width: 989px) {
    .mk-header .mk-header__logo,
    .mk-header .mk-header__logo-link .mk-header__logo {
      width: {{ section.settings.logo_width_mobile }}px;
      max-width: {{ section.settings.logo_width_mobile }}px;
    }
  }

  /* Navigation Styling - Isolated component */
  .mk-header .mk-header__nav,
  .mk-header .mk-header__nav .header__inline-menu {
    font-size: {{ section.settings.menu_font_size }}px;
    font-weight: {{ section.settings.menu_font_weight }};
  }

  .mk-header .mk-header__nav * {
    font-size: inherit;
    font-weight: inherit;
  }

  /* Enhanced Navigation Link Styling */
  .mk-header .mk-header__nav .header__menu-item > .header__menu-link {
    position: relative;
    padding: 12px 16px;
    border-radius: 12px;
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    color: rgb(var(--color-foreground));
    text-decoration: none;
    font-weight: 500;
    letter-spacing: 0.025em;
  }

  .mk-header .mk-header__nav .header__menu-item > .header__menu-link:hover {
    background: rgba(var(--color-foreground), 0.06);
    color: rgb(var(--color-accent));
    transform: translateY(-1px);
  }

  .mk-header .mk-header__nav .header__menu-item > .header__menu-link::after {
    content: '';
    position: absolute;
    bottom: 8px;
    left: 50%;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, rgb(var(--color-accent)), rgba(var(--color-accent), 0.8));
    border-radius: 1px;
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    transform: translateX(-50%);
  }

  .mk-header .mk-header__nav .header__menu-item > .header__menu-link:hover::after {
    width: calc(100% - 32px);
  }

  /* Top Row Navigation */
  .mk-header__top-nav {
    width: 100%;
    background-color: rgb(var(--color-{{ section.settings.color_scheme }}-background));
    border-bottom: 1px solid rgba(var(--color-foreground), 0.1);
    padding: {{ section.settings.padding_vertical | divided_by: 2 }}px 0;
  }

  .mk-header__top-nav .mk-header__nav {
    justify-content: center;
  }

  .mk-header__top-nav .mk-header__menu-list {
    justify-content: center;
  }

  /* Hide top navigation on mobile devices */
  @media screen and (max-width: 989px) {
    .mk-header__top-nav {
      display: none !important;
    }
  }

  /* Hide account icon on mobile header since it's available in bottom navigation */
  @media screen and (max-width: 749px) {
    .mk-header .mk-header__mobile-right .header__icon--account {
      display: none !important;
    }
  }

  /* Icons Styling - Isolated component */
  .mk-header .header__icons {
    display: flex;
    align-items: center;
    gap: {{ section.settings.icons_spacing }}px;
  }

  .mk-header .header__icon {
    /* Ensure consistent tappable target */
    width: 36px !important;
    height: 36px !important;
    min-width: 36px !important;
    min-height: 36px !important;
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
    position: relative;
    padding: 0; /* remove extra padding differences */
    overflow: visible !important; /* Prevent cutting off badges */
    background: none !important;
    background-color: transparent !important;
    border: none !important;
    border-radius: 0 !important;
    box-shadow: none !important;
  }

  /* Icon glyph sizing normalization */
  .mk-header { --mk-icon-glyph-size: 26px; }
  @media screen and (min-width: 990px) { .mk-header { --mk-icon-glyph-size: 28px; } }

  .mk-header .header__icon .svg-wrapper,
  .mk-header .header__icon svg { 
    width: var(--mk-icon-glyph-size) !important; 
    height: var(--mk-icon-glyph-size) !important; 
  }

  /* Ensure SVG icons are properly styled - account icons filled, cart icons stroked */
  .mk-header .header__icon--account svg {
    fill: currentColor !important;
    color: rgb(var(--color-foreground)) !important;
  }

  .mk-header .header__icon--account svg path {
    fill: currentColor !important;
  }

  .mk-header .header__icon--cart svg {
    fill: none !important;
    stroke: currentColor !important;
    color: rgb(var(--color-foreground)) !important;
  }

  .mk-header .header__icon--cart svg path {
    fill: none !important;
    stroke: currentColor !important;
  }

  /* Custom icons: both cart and account icons now have consistent visual weight */
  .mk-header .header__icon--cart .svg-wrapper svg,
  .mk-header .header__icon--account .svg-wrapper svg { 
    transform: none; 
    transform-origin: 50% 50%; 
  }

  /* Ensure both icons are properly centered */
  .mk-header .header__icon--cart .svg-wrapper,
  .mk-header .header__icon--account .svg-wrapper { 
    display: flex; 
    align-items: center; 
    justify-content: center; 
  }

  /* Cart count bubble positioning for new icon design */
  .mk-header .header__icon--cart .cart-count-bubble { 
    top: -4px; 
    right: -4px; 
  }

  /* ===============================================
     Mobile Bottom Navigation Styles
     =============================================== */
  .mk-mobile-bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 999;
    background: rgb(var(--color-{{ section.settings.mobile_nav_color_scheme | default: 'background' }}-background));
    background: rgba(255, 255, 255, 0.95); /* Fallback with opacity */
    backdrop-filter: blur(10px); /* Add blur effect for modern look */
    -webkit-backdrop-filter: blur(10px); /* Safari support */
    border-top: {{ section.settings.mobile_nav_border_thickness | default: 1 }}px solid rgba(var(--color-foreground), {{ section.settings.mobile_nav_border_opacity | default: 0.1 }});
    padding: {{ section.settings.mobile_nav_padding_vertical | default: 8 }}px 0;
    transform: translateY(0);
    transition: transform 0.3s ease-in-out;
    /* Only show on mobile devices */
    display: block;
  }

  /* Hide on tablet and desktop screens */
  @media screen and (min-width: 750px) {
    .mk-mobile-bottom-nav {
      display: none !important;
    }
  }

  /* Dark mode support for bottom navigation */
  @media (prefers-color-scheme: dark) {
    .mk-mobile-bottom-nav {
      background: rgba(18, 18, 18, 0.95) !important; /* Dark background for dark mode */
    }
  }

  .mk-mobile-bottom-nav--hidden {
    transform: translateY(100%);
  }

  .mk-mobile-bottom-nav__container {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0;
    max-width: 100%;
    margin: 0 auto;
    padding: 0 {{ section.settings.mobile_nav_padding_horizontal | default: 16 }}px;
  }

  .mk-mobile-bottom-nav__item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: {{ section.settings.mobile_nav_item_padding | default: 8 }}px 4px;
    text-decoration: none;
    color: rgb(var(--color-{{ section.settings.mobile_nav_color_scheme | default: 'background' }}-text));
    background: none;
    border: none;
    cursor: pointer;
    /* transition removed to disable hover effects */
    min-height: 56px;
    position: relative;
  }

  /* Hover effects removed as requested */
  .mk-mobile-bottom-nav__item:focus {
    color: rgb(var(--color-{{ section.settings.mobile_nav_color_scheme | default: 'background' }}-text));
  }

  .mk-mobile-bottom-nav__item:active {
    color: rgb(var(--color-{{ section.settings.mobile_nav_color_scheme | default: 'background' }}-text));
  }

  .mk-mobile-bottom-nav__icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: {{ section.settings.mobile_nav_icon_size | default: 24 }}px;
    height: {{ section.settings.mobile_nav_icon_size | default: 24 }}px;
    margin-bottom: 4px;
  }

  .mk-mobile-bottom-nav__icon svg {
    width: 100%;
    height: 100%;
    fill: currentColor;
    stroke: currentColor;
  }

  .mk-mobile-bottom-nav__label {
    font-size: {{ section.settings.mobile_nav_font_size | default: 10 }}px;
    font-weight: {{ section.settings.mobile_nav_font_weight | default: 500 }};
    line-height: 1.2;
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
  }

  /* Active state for current page */
  .mk-mobile-bottom-nav__item.active {
    color: rgb(var(--color-accent));
  }

  .mk-mobile-bottom-nav__item.active .mk-mobile-bottom-nav__icon {
    transform: scale(1.1);
  }

  /* Add bottom padding to body when bottom nav is visible - MOBILE ONLY */
  @media screen and (max-width: 749px) {
    body.has-mobile-bottom-nav {
      padding-bottom: 80px;
    }
  }

  /* Hide bottom nav when keyboard is open (iOS Safari) */
  @media screen and (max-width: 749px) and (max-height: 500px) {
    .mk-mobile-bottom-nav {
      display: none;
    }
  }

  /* Mobile specific icon styling */
  @media screen and (max-width: 749px) {
    .mk-header .header__icon {
      width: 40px !important;
      height: 40px !important;
      min-width: 40px !important;
      min-height: 40px !important;
      background: transparent !important;
      background-color: transparent !important;
      border: none !important;
      border-radius: 0 !important;
      padding: 0 !important;
      box-shadow: none !important;
      overflow: visible !important;
    }

    .mk-header .header__icon svg,
    .mk-header .header__icon .svg-wrapper {
      width: 28px;
      height: 28px;
      max-width: 28px;
      max-height: 28px;
    }

    .mk-header .header__icon--cart .cart-count-bubble {
      top: -8px;
      right: -8px;
      min-width: 24px;
      height: 24px;
      font-size: 13px;
      font-weight: 700;
    }
  }

  /* Desktop larger icon styling */
  @media screen and (min-width: 990px) {
    .mk-header .header__icon {
      width: {{ section.settings.icon_size | plus: 12 }}px !important;
      height: {{ section.settings.icon_size | plus: 12 }}px !important;
      min-width: {{ section.settings.icon_size | plus: 12 }}px !important;
      min-height: {{ section.settings.icon_size | plus: 12 }}px !important;
      padding: 14px;
      overflow: visible !important;
      background: none !important;
      background-color: transparent !important;
      border: none !important;
      border-radius: 0 !important;
      box-shadow: none !important;
    }

    .mk-header .header__icon svg,
    .mk-header .header__icon .svg-wrapper {
      width: 28px;
      height: 28px;
      max-width: 28px;
      max-height: 28px;
    }

    .mk-header .header__icon--cart .cart-count-bubble {
      top: -6px;
      right: -6px;
      min-width: 20px;
      height: 20px;
      font-size: 12px;
      font-weight: 700;
      z-index: 10;
    }
  }

  /* Search Bar Styling - Modern & Professional - High Specificity Override */
  #mk-header .mk-header .mk-header__search-bar {
    width: 100%;
    max-width: {{ section.settings.search_bar_max_width }}px;
    position: relative;
    display: block !important;
    margin: 0 auto;
  }

  #mk-header .mk-header .mk-header__search-bar .search,
  #mk-header .mk-header .mk-header__search-bar .search-modal__form {
    border: 1px solid rgba(var(--color-foreground), 0.15) !important;
    border-radius: 20px !important;
    background: rgba(255, 255, 255, 0.9) !important;
    backdrop-filter: blur(15px) !important;
    -webkit-backdrop-filter: blur(15px) !important;
    margin: 0 !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04) !important;
    transition: all 0.3s ease !important;
    overflow: hidden !important;
    display: block !important;
    width: 100% !important;
    position: relative !important;
    height: 40px !important;
  }

  #mk-header .mk-header .mk-header__search-bar .search:hover,
  #mk-header .mk-header .mk-header__search-bar .search-modal__form:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08) !important;
    border-color: rgba(var(--color-foreground), 0.25) !important;
    background: rgba(255, 255, 255, 0.95) !important;
    transform: none !important;
  }

  #mk-header .mk-header .mk-header__search-bar .search:focus-within,
  #mk-header .mk-header .mk-header__search-bar .search-modal__form:focus-within {
    box-shadow: 0 16px 48px rgba(var(--color-accent), 0.15), 0 8px 32px rgba(0, 0, 0, 0.08) !important;
    border-color: rgb(var(--color-accent)) !important;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(255, 255, 255, 0.92)) !important;
    transform: translateY(-3px) !important;
  }

  #mk-header .mk-header .mk-header__search-bar .field {
    position: relative !important;
    display: flex !important;
    align-items: center !important;
    margin: 0 !important;
    width: 100% !important;
    min-height: 44px !important;
  }

  #mk-header .mk-header .mk-header__search-bar .field__input,
  #mk-header .mk-header .mk-header__search-bar .search__input {
    padding: {{ section.settings.search_padding_vertical }}px {{ section.settings.search_padding_horizontal }}px !important;
    font-size: {{ section.settings.search_font_size }}px !important;
    border: none !important;
    background: transparent !important;
    width: 100% !important;
    outline: none !important;
    color: rgb(var(--color-foreground)) !important;
    font-weight: 400 !important;
    line-height: 1.4 !important;
    display: block !important;
    box-shadow: none !important;
    margin: 0 !important;
    border-radius: 0 !important;
  }

  #mk-header .mk-header .mk-header__search-bar .field__input::placeholder,
  #mk-header .mk-header .mk-header__search-bar .search__input::placeholder {
    color: rgba(var(--color-foreground), 0.6) !important;
    transition: color 0.3s ease !important;
  }

  #mk-header .mk-header .mk-header__search-bar .field__input:focus::placeholder,
  #mk-header .mk-header .mk-header__search-bar .search__input:focus::placeholder {
    color: rgba(var(--color-foreground), 0.4) !important;
  }

  #mk-header .mk-header .mk-header__search-bar .search__button,
  #mk-header .mk-header .mk-header__search-bar .field__button {
    position: absolute !important;
    right: 4px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    background: linear-gradient(135deg, #007acc, #005c99) !important;
    border: none !important;
    border-radius: 16px !important;
    width: 32px !important;
    height: 32px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    cursor: pointer !important;
    transition: all 0.3s ease !important;
    box-shadow: none !important;
    z-index: 10 !important;
  }

  #mk-header .mk-header .mk-header__search-bar .search__button:hover,
  #mk-header .mk-header .mk-header__search-bar .field__button:hover {
    background: linear-gradient(135deg, #0066b3, #004080) !important;
    transform: translateY(-50%) !important;
    box-shadow: 0 2px 4px rgba(0, 122, 204, 0.2) !important;
  }

  #mk-header .mk-header .mk-header__search-bar .search__button .svg-wrapper,
  #mk-header .mk-header .mk-header__search-bar .field__button .svg-wrapper {
    width: 18px !important;
    height: 18px !important;
    color: rgb(var(--color-background)) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  #mk-header .mk-header .mk-header__search-bar .search__button svg,
  #mk-header .mk-header .mk-header__search-bar .field__button svg {
    width: 100% !important;
    height: 100% !important;
    fill: currentColor !important;
  }

  /* Responsive Search Styling */
  @media screen and (max-width: 749px) {
    .mk-header .mk-header__search-bar {
      max-width: 100%;
    }
    
    .mk-header .mk-header__search-bar .field__input,
    .mk-header .mk-header__search-bar .search__input {
      font-size: 16px; /* Prevents zoom on iOS */
    }
  }

  /* Localization Styling - Isolated component */
  .mk-header .localization-form .disclosure__button {
    padding: 10px 14px;
    font-size: 14px;
    font-weight: 500;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(var(--color-foreground), 0.15);
    transition: all 0.3s ease;
    color: rgb(var(--color-foreground));
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
    height: 40px;
    display: flex;
    align-items: center;
    gap: 8px;
    min-width: 100px;
  }

  .mk-header .localization-form .disclosure__button:hover {
    background: rgba(255, 255, 255, 0.95);
    border-color: rgba(var(--color-foreground), 0.25);
    transform: none;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
  }

  .mk-header .localization-form .disclosure__button:focus {
    outline: 2px solid rgba(var(--color-accent), 0.4);
    outline-offset: 2px;
  }

  /* ===============================================
     MOBILE DRAWER - CLEAN & PROFESSIONAL DESIGN
     Supports 3-level menus with uniform styling
     =============================================== */
  @media screen and (max-width: 989px) {
    /* Hide desktop elements */
    .mk-header__top-nav,
    .mk-header__desktop {
      display: none !important;
    }
    
    .mk-header__container {
      min-height: {{ section.settings.header_height_mobile }}px;
    }

    /* ===============================================
       OVERRIDE ORIGINAL DAWN THEME CSS CONFLICTS
       =============================================== */
    
    /* Reset original Dawn menu-drawer positioning */
    .menu-drawer {
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      width: 100vw !important;
      height: 100vh !important;
      transform: translateX(0) !important;
      visibility: visible !important;
      z-index: 999 !important;
      background: rgb(var(--color-background)) !important;
    }

    /* Reset Dawn submenu transforms */
    .js details[open] > .menu-drawer__submenu,
    .js details[open].menu-opening > .menu-drawer__submenu,
    details[open].menu-opening > .menu-drawer__submenu {
      transform: none !important;
      position: static !important;
      visibility: visible !important;
    }

    /* ===============================================
       DRAWER CONTAINER & BACKDROP
       =============================================== */
    .mk-header .menu-drawer {
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      width: 100vw !important;
      height: 100vh !important;
      z-index: 999 !important;
      background: rgb(var(--color-background));
      backdrop-filter: blur(8px);
      animation: drawerSlideIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    }

    @keyframes drawerSlideIn {
      from {
        transform: translateX(-100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    /* ===============================================
       DRAWER INNER CONTAINER
       =============================================== */
    .mk-header .menu-drawer__inner-container {
      height: 100vh;
      display: flex;
      flex-direction: column;
      padding: 2rem 1.5rem;
      overflow: hidden;
    }

    /* ===============================================
       DRAWER HEADER
       =============================================== */
    .mk-header .menu-drawer__header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-bottom: 1.5rem;
      margin-bottom: 1.5rem;
      border-bottom: 1px solid rgba(var(--color-foreground), 0.08);
      flex-shrink: 0;
    }

    .mk-header .menu-drawer__title {
      font-size: 1.6rem;
      font-weight: 600;
      margin: 0;
      color: rgb(var(--color-foreground));
    }

    .mk-header .menu-drawer__close-button {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      background: rgba(var(--color-foreground), 0.06);
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      position: relative;
    }

    .mk-header .menu-drawer__close-button:hover {
      background: rgba(var(--color-foreground), 0.12);
      transform: scale(1.05);
    }

    .mk-header .menu-drawer__close-button .svg-wrapper {
      width: 20px;
      height: 20px;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .mk-header .menu-drawer__close-button svg {
      width: 100%;
      height: 100%;
      fill: rgb(var(--color-foreground));
    }

    /* ===============================================
       NAVIGATION CONTAINER
       =============================================== */
    .mk-header .menu-drawer__navigation-container {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    /* ===============================================
       LOCALIZATION SECTION
       =============================================== */
    .mk-header .menu-drawer__localization {
      padding: 1.2rem;
      background: rgba(var(--color-foreground), 0.03);
      border: 1px solid rgba(var(--color-foreground), 0.06);
      border-radius: 12px;
      margin-bottom: 1.5rem;
      flex-shrink: 0;
    }

    .mk-header .menu-drawer__localization select,
    .mk-header .menu-drawer__localization button {
      background: rgba(var(--color-foreground), 0.04);
      border: 1px solid rgba(var(--color-foreground), 0.08);
      border-radius: 8px;
      padding: 0.8rem 1rem;
      font-size: 1.4rem;
      color: rgb(var(--color-foreground));
      width: 100%;
      transition: all 0.2s ease;
    }

    .mk-header .menu-drawer__localization select:hover,
    .mk-header .menu-drawer__localization button:hover {
      background: rgba(var(--color-foreground), 0.08);
      border-color: rgba(var(--color-foreground), 0.12);
    }

    /* ===============================================
       MAIN NAVIGATION
       =============================================== */
    .mk-header .menu-drawer__navigation {
      flex: 1;
      overflow-y: auto;
      overflow-x: hidden;
      padding-right: 4px;
    }

    .mk-header .menu-drawer__navigation > ul {
      list-style: none;
      margin: 0;
      padding: 0;
    }

    /* ===============================================
       LEVEL 1 - MAIN MENU ITEMS
       =============================================== */
    
    /* Main menu items - both links and summary buttons */
    .menu-drawer__menu-item,
    .mk-header .menu-drawer__menu-item,
    .menu-drawer__navigation summary.menu-drawer__menu-item,
    .mk-header .menu-drawer__navigation summary.menu-drawer__menu-item {
      display: flex !important;
      align-items: center;
      padding: 1.6rem 1.8rem;
      margin-bottom: 0.8rem;
      background: rgba(var(--color-foreground), 0.03);
      border: 1px solid rgba(var(--color-foreground), 0.06);
      border-radius: 14px;
      font-size: 1.6rem;
      font-weight: 500;
      color: rgb(var(--color-foreground));
      text-decoration: none;
      transition: all 0.25s ease;
      cursor: pointer;
      min-height: 56px;
      position: relative;
      list-style: none;
    }

    /* Reset summary default styles */
    .menu-drawer__navigation summary.menu-drawer__menu-item {
      outline: none;
    }

    .menu-drawer__navigation summary.menu-drawer__menu-item::-webkit-details-marker {
      display: none;
    }

    .menu-drawer__menu-item:hover,
    .mk-header .menu-drawer__menu-item:hover,
    .menu-drawer__navigation summary.menu-drawer__menu-item:hover,
    .mk-header .menu-drawer__navigation summary.menu-drawer__menu-item:hover {
      background: rgba(var(--color-foreground), 0.06);
      border-color: rgba(var(--color-foreground), 0.1);
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(var(--color-foreground), 0.08);
    }

    .menu-drawer__menu-item:active,
    .mk-header .menu-drawer__menu-item:active {
      transform: translateY(0);
    }

    /* Arrow icon for expandable items */
    .menu-drawer__menu-item .svg-wrapper,
    .mk-header .menu-drawer__menu-item .svg-wrapper {
      margin-left: auto;
      width: 18px;
      height: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.25s ease;
      flex-shrink: 0;
    }

    .menu-drawer__menu-item .svg-wrapper svg,
    .mk-header .menu-drawer__menu-item .svg-wrapper svg {
      width: 100%;
      height: 100%;
      fill: rgba(var(--color-foreground), 0.7);
    }

    /* Rotate arrow when expanded */
    details[open] > summary .svg-wrapper,
    .mk-header details[open] > summary .svg-wrapper {
      transform: rotate(90deg);
    }

    /* ===============================================
       LEVEL 2 - SUBMENU CONTAINER
       =============================================== */
    
    /* Override Dawn's submenu positioning */
    .menu-drawer__submenu,
    .mk-header .menu-drawer__submenu {
      position: static !important;
      transform: none !important;
      visibility: visible !important;
      display: block !important;
      margin-top: 0.8rem;
      background: rgba(var(--color-foreground), 0.02);
      border: 1px solid rgba(var(--color-foreground), 0.05);
      border-radius: 12px;
      padding: 0.8rem;
      animation: submenuSlideDown 0.3s ease;
    }

    /* Hide submenu when details is closed */
    details:not([open]) .menu-drawer__submenu {
      display: none !important;
    }

    @keyframes submenuSlideDown {
      from {
        opacity: 0;
        transform: translateY(-8px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Inner submenu container styling */
    .menu-drawer__inner-submenu {
      background: transparent;
      padding: 0;
    }

    /* Submenu close button */
    .menu-drawer__inner-submenu .menu-drawer__close-button {
      width: 100%;
      justify-content: flex-start;
      background: rgba(var(--color-foreground), 0.03);
      border: 1px solid rgba(var(--color-foreground), 0.06);
      border-radius: 10px;
      padding: 1.2rem 1.4rem;
      margin-bottom: 0.8rem;
      font-size: 1.4rem;
      font-weight: 500;
      text-align: left;
      color: rgba(var(--color-foreground), 0.8);
      transition: all 0.2s ease;
    }

    .menu-drawer__inner-submenu .menu-drawer__close-button:hover {
      background: rgba(var(--color-foreground), 0.06);
      border-color: rgba(var(--color-foreground), 0.1);
      color: rgb(var(--color-foreground));
    }

    .menu-drawer__inner-submenu .menu-drawer__close-button .svg-wrapper {
      width: 16px;
      height: 16px;
      margin-right: 0.8rem;
      margin-left: 0;
      transform: rotate(180deg);
    }

    /* Submenu items container */
    .menu-drawer__submenu .menu-drawer__menu,
    .mk-header .menu-drawer__submenu .menu-drawer__menu {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    /* Level 2 menu items */
    .menu-drawer__submenu .menu-drawer__menu-item,
    .mk-header .menu-drawer__submenu .menu-drawer__menu-item {
      padding: 1.4rem 1.6rem;
      margin-bottom: 0;
      font-size: 1.5rem;
      font-weight: 400;
      background: rgba(var(--color-foreground), 0.02);
      border: 1px solid rgba(var(--color-foreground), 0.04);
      border-radius: 10px;
      min-height: 48px;
      color: rgba(var(--color-foreground), 0.9);
      display: flex !important;
      align-items: center;
      text-decoration: none;
      transition: all 0.25s ease;
      cursor: pointer;
    }

    .menu-drawer__submenu .menu-drawer__menu-item:hover,
    .mk-header .menu-drawer__submenu .menu-drawer__menu-item:hover {
      background: rgba(var(--color-foreground), 0.05);
      border-color: rgba(var(--color-foreground), 0.08);
      color: rgb(var(--color-foreground));
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(var(--color-foreground), 0.06);
    }

    /* ===============================================
       LEVEL 3 - NESTED SUBMENU
       =============================================== */
    
    /* Level 3 nested submenu container */
    .menu-drawer__submenu .menu-drawer__submenu,
    .mk-header .menu-drawer__submenu .menu-drawer__submenu {
      margin-left: 1rem;
      margin-top: 0.5rem;
      background: rgba(var(--color-foreground), 0.01);
      border: 1px solid rgba(var(--color-foreground), 0.04);
      border-radius: 10px;
      padding: 0.6rem;
      position: static !important;
      transform: none !important;
      visibility: visible !important;
      display: block !important;
    }

    /* Hide level 3 submenu when parent details is closed */
    details:not([open]) .menu-drawer__submenu .menu-drawer__submenu {
      display: none !important;
    }

    /* Level 3 inner submenu container */
    .menu-drawer__submenu .menu-drawer__submenu .menu-drawer__inner-submenu {
      background: transparent;
      padding: 0;
    }

    /* Level 3 submenu close button */
    .menu-drawer__submenu .menu-drawer__submenu .menu-drawer__close-button {
      width: 100%;
      justify-content: flex-start;
      background: rgba(var(--color-foreground), 0.02);
      border: 1px solid rgba(var(--color-foreground), 0.04);
      border-radius: 8px;
      padding: 1rem 1.2rem;
      margin-bottom: 0.6rem;
      font-size: 1.3rem;
      font-weight: 400;
      text-align: left;
      color: rgba(var(--color-foreground), 0.75);
      transition: all 0.2s ease;
    }

    .menu-drawer__submenu .menu-drawer__submenu .menu-drawer__close-button:hover {
      background: rgba(var(--color-foreground), 0.04);
      border-color: rgba(var(--color-foreground), 0.08);
      color: rgba(var(--color-foreground), 0.9);
    }

    /* Level 3 menu items */
    .menu-drawer__submenu .menu-drawer__submenu .menu-drawer__menu-item,
    .mk-header .menu-drawer__submenu .menu-drawer__submenu .menu-drawer__menu-item {
      padding: 1.2rem 1.4rem;
      font-size: 1.4rem;
      background: rgba(var(--color-foreground), 0.015);
      border: 1px solid rgba(var(--color-foreground), 0.03);
      border-radius: 8px;
      min-height: 44px;
      color: rgba(var(--color-foreground), 0.85);
      display: flex !important;
      align-items: center;
      text-decoration: none;
      transition: all 0.25s ease;
      cursor: pointer;
    }

    .menu-drawer__submenu .menu-drawer__submenu .menu-drawer__menu-item:hover,
    .mk-header .menu-drawer__submenu .menu-drawer__submenu .menu-drawer__menu-item:hover {
      background: rgba(var(--color-foreground), 0.04);
      border-color: rgba(var(--color-foreground), 0.06);
      color: rgba(var(--color-foreground), 0.95);
      transform: translateY(-1px);
      box-shadow: 0 1px 4px rgba(var(--color-foreground), 0.04);
    }

    /* ===============================================
       LIST ITEM CONTAINERS
       =============================================== */
    .mk-header .menu-drawer__navigation li {
      margin: 0;
      padding: 0;
      list-style: none;
    }

    /* ===============================================
       DETAILS/SUMMARY STYLING
       =============================================== */
    .mk-header details {
      margin: 0;
    }

    .mk-header details summary {
      list-style: none;
      cursor: pointer;
      outline: none;
    }

    .mk-header details summary::-webkit-details-marker {
      display: none;
    }

    /* ===============================================
       FOCUS STATES
       =============================================== */
    .mk-header .menu-drawer__menu-item:focus-visible {
      outline: 2px solid rgba(var(--color-foreground), 0.4);
      outline-offset: 2px;
    }

    /* ===============================================
       SCROLLBAR STYLING
       =============================================== */
    .mk-header .menu-drawer__navigation::-webkit-scrollbar {
      width: 4px;
    }

    .mk-header .menu-drawer__navigation::-webkit-scrollbar-track {
      background: transparent;
    }

    .mk-header .menu-drawer__navigation::-webkit-scrollbar-thumb {
      background: rgba(var(--color-foreground), 0.2);
      border-radius: 2px;
    }

    .mk-header .menu-drawer__navigation::-webkit-scrollbar-thumb:hover {
      background: rgba(var(--color-foreground), 0.3);
    }
  }

  /* Responsive Breakpoints */
  @media screen and (max-width: 989px) {
    .mk-header__desktop {
      display: none;
    }
    
    .mk-header__container {
      min-height: {{ section.settings.header_height_mobile }}px;
    }
  }

  @media screen and (min-width: 990px) {
    .mk-header__mobile {
      display: none !important;
    }
    
    .mk-header__desktop {
      display: grid !important;
    }
  }
{%- endstyle -%}

<script src="{{ 'cart-notification.js' | asset_url }}" defer="defer"></script>
<script src="{{ 'global.js' | asset_url }}" defer="defer"></script>

{%- liquid
  assign has_app_block = false
  for block in section.blocks
    if block.type == '@app'
      assign has_app_block = true
    endif
  endfor
-%}

{% liquid
  assign header_tag = 'div'
  assign header_classes = 'mk-header'

  if section.settings.enable_sticky_header
    assign header_tag = 'sticky-header'
    assign header_classes = header_classes | append: ' mk-header--sticky'
  endif

  if section.settings.enable_transparent_header
    assign header_classes = header_classes | append: ' mk-header--transparent'
  endif

  assign header_classes = header_classes | append: ' color-' | append: section.settings.color_scheme

  if section.settings.show_border
    assign header_classes = header_classes | append: ' mk-header--border'
  endif
%}

<div class="header-wrapper{% if section.settings.show_border %} header-wrapper--border-bottom{% endif %}">
<{{ header_tag }}
        {% if header_tag == 'sticky-header' %}
          data-sticky-type="{{ section.settings.sticky_header_type }}"
        {% endif %}
        class="{{ header_classes }} section-header"
        id="mk-header"
  >

  {%- comment -%} Top Row Navigation (Full Width) - Outside main header for true full width {%- endcomment -%}
  {%- if section.settings.show_navigation_menu and section.settings.menu != blank and section.settings.menu_position_desktop == 'top_row' -%}
    <div class="mk-header__top-nav">
      <div class="page-width">
        <nav class="mk-header__nav">
          {%- liquid
            if section.settings.menu_type_desktop == 'dropdown'
              render 'header-dropdown-menu'
            elsif section.settings.menu_type_desktop == 'mega'
              render 'header-mega-menu'
            else
              render 'mk-header-menu-inline'
            endif
          -%}
        </nav>
      </div>
    </div>
  {%- endif -%}

  <div class="page-width">
    <header class="mk-header__container">

      {%- comment -%} Mobile Layout - Modified to match wireframe {%- endcomment -%}
      <div class="mk-header__mobile small-up-hide">
        <div class="mk-header__mobile-left">
          {%- comment -%} Hamburger Menu - Based on Wireframe {%- endcomment -%}
          {%- if section.settings.show_navigation_menu and section.settings.menu != blank -%}
            {% render 'header-drawer' %}
          {%- endif -%}
        </div>

        <div class="mk-header__mobile-center">
          {%- comment -%} Logo in Center - Based on Wireframe {%- endcomment -%}
          {%- render 'mk-header-logo' -%}
        </div>

        <div class="mk-header__mobile-right">
          {%- comment -%} Account icon - mobile layout {%- endcomment -%}
          <a href="{%- if customer -%}{{ routes.account_url }}{%- else -%}{{ routes.account_login_url }}{%- endif -%}" class="header__icon header__icon--account link focus-inset">
            <span class="svg-wrapper">{{ 'icon-account.svg' | inline_asset_content }}</span>
            <span class="visually-hidden">{{ 'customer.account_fallback' | t }}</span>
          </a>
          
          <a href="{{ routes.cart_url }}" class="header__icon header__icon--cart link focus-inset" id="cart-icon-bubble">
            <span class="svg-wrapper">{{ 'icon-cart.svg' | inline_asset_content }}</span>
            <span class="visually-hidden">{{ 'templates.cart.cart' | t }}</span>
            {%- if cart != empty -%}
              <div class="cart-count-bubble">
                {%- if cart.item_count < 100 -%}
                  <span aria-hidden="true">{{ cart.item_count }}</span>
                {%- endif -%}
                <span class="visually-hidden">{{ 'sections.header.cart_count' | t: count: cart.item_count }}</span>
              </div>
            {%- endif -%}
          </a>
        </div>
      </div>

      {%- comment -%} Desktop Layout - Modified to match wireframe {%- endcomment -%}
      <div class="mk-header__desktop medium-hide small-hide">

        {% case section.settings.desktop_layout %}
          {% when 'left_center_right' %}
            <div class="mk-header__desktop-left">
              {%- render 'mk-header-logo' -%}
              {%- comment -%} Navigation Left of Search {%- endcomment -%}
              {%- if section.settings.show_navigation_menu and section.settings.menu != blank and section.settings.menu_position_desktop == 'left_of_search' -%}
                <nav class="mk-header__nav">
                  {%- liquid
                    if section.settings.menu_type_desktop == 'dropdown'
                      render 'header-dropdown-menu'
                    elsif section.settings.menu_type_desktop == 'mega'
                      render 'header-mega-menu'
                    else
                      render 'mk-header-menu-inline'
                    endif
                  -%}
                </nav>
              {%- endif -%}
            </div>

            <div class="mk-header__desktop-center">
              {%- comment -%} Search Bar in Center - Based on Wireframe {%- endcomment -%}
              <div class="mk-header__search-bar">
                <predictive-search class="search-modal__form" data-loading-text="{{ 'accessibility.loading' | t }}">
                  <form
                    action="{{ routes.search_url }}"
                    method="get"
                    role="search"
                    class="search search-modal__form">
                    <div class="field">
                      <input
                        class="search__input field__input"
                        id="Search-In-Main"
                        type="search"
                        name="q"
                        value="{{ search.terms | escape }}"
                        placeholder="{{ 'general.search.search' | t }}">
                      <label class="field__label" for="Search-In-Main">{{ 'general.search.search' | t }}</label>
                      <input
                        type="hidden"
                        name="options[prefix]"
                        value="last">
                      <button class="search__button field__button" aria-label="{{ 'general.search.search' | t }}">
                        <span class="svg-wrapper">{{ 'icon-search.svg' | inline_asset_content }}</span>
                      </button>
                    </div>
                  </form>
                </predictive-search>
              </div>
              
              {%- comment -%} Navigation Below Search {%- endcomment -%}
              {%- if section.settings.show_navigation_menu and section.settings.menu != blank and section.settings.menu_position_desktop == 'below_search' -%}
                <nav class="mk-header__nav">
                  {%- liquid
                    if section.settings.menu_type_desktop == 'dropdown'
                      render 'header-dropdown-menu'
                    elsif section.settings.menu_type_desktop == 'mega'
                      render 'header-mega-menu'
                    else
                      render 'mk-header-menu-inline'
                    endif
                  -%}
                </nav>
              {%- endif -%}
            </div>

            <div class="mk-header__desktop-right">
              <div class="header__icons">
                {%- comment -%} Translation/Language Selector {%- endcomment -%}
                {%- if section.settings.translation_provider == 'shopify' -%}
                  {%- if section.settings.enable_country_selector and localization.available_countries.size > 1 -%}
                    <localization-form>
                      {%- form 'localization', id: 'HeaderCountryForm', class: 'localization-form' -%}
                        <div class="disclosure">
                          <button
                            type="button"
                            class="disclosure__button localization-form__select localization-selector link link--text caption-large color-accent-1"
                            aria-expanded="false"
                            aria-controls="HeaderCountry-list"
                            aria-describedby="HeaderCountryLabel"
                          >
                            <span class="localization-text">
                              {{- localization.country.name }} |
                              {{ localization.country.currency.iso_code }}
                            </span>
                            <svg viewBox="0 0 10 6" class="icon icon-caret" aria-hidden="true" focusable="false">
                              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.354.646a.5.5 0 00-.708 0L5 4.293 1.354.646a.5.5 0 00-.708.708l4 4a.5.5 0 00.708 0l4-4a.5.5 0 000-.708z" fill="currentColor">
                              </path>
                            </svg>
                          </button>
                          <div class="disclosure__list-wrapper" hidden>
                            <ul id="HeaderCountry-list" role="list" class="disclosure__list list-unstyled">
                              {%- for country in localization.available_countries -%}
                                <li class="disclosure__item" tabindex="-1">
                                  <a class="link link--text disclosure__link caption-large{% if country.iso_code == localization.country.iso_code %} disclosure__link--active{% endif %} focus-inset" 
                                     href="#"
                                     {% if country.iso_code == localization.country.iso_code %}aria-current="true"{% endif %}
                                     data-value="{{ country.iso_code }}">
                                    {{ country.name }} ({{ country.currency.iso_code }} {{ country.currency.symbol }})
                                  </a>
                                </li>
                              {%- endfor -%}
                            </ul>
                          </div>
                        </div>
                        <input type="hidden" name="country_code" value="{{ localization.country.iso_code }}">
                      {%- endform -%}
                    </localization-form>
                  {%- endif -%}
                {%- elsif section.settings.translation_provider == 'gtranslate' -%}
                  <div class="gtranslate_wrapper translation-widget"></div>
                {%- elsif section.settings.translation_provider == 'custom' and section.settings.custom_translation_code != blank -%}
                  <div class="custom-translation-widget">
                    {{ section.settings.custom_translation_code }}
                  </div>
                {%- endif -%}
                
                {%- comment -%} Account icon - always visible {%- endcomment -%}
                <a href="{%- if customer -%}{{ routes.account_url }}{%- else -%}{{ routes.account_login_url }}{%- endif -%}" class="header__icon header__icon--account link focus-inset">
                  <span class="svg-wrapper">{{ 'icon-account.svg' | inline_asset_content }}</span>
                  <span class="visually-hidden">{{ 'customer.account_fallback' | t }}</span>
                </a>
                
                <a href="{{ routes.cart_url }}" class="header__icon header__icon--cart link focus-inset" id="cart-icon-bubble">
                  <span class="svg-wrapper">{{ 'icon-cart.svg' | inline_asset_content }}</span>
                  <span class="visually-hidden">{{ 'templates.cart.cart' | t }}</span>
                  {%- if cart != empty -%}
                    <div class="cart-count-bubble">
                      {%- if cart.item_count < 100 -%}
                        <span aria-hidden="true">{{ cart.item_count }}</span>
                      {%- endif -%}
                      <span class="visually-hidden">{{ 'sections.header.cart_count' | t: count: cart.item_count }}</span>
                    </div>
                  {%- endif -%}
                </a>
                
                {%- if section.settings.enable_language_selector and localization.available_languages.size > 1 -%}
                  <localization-form>
                    {%- form 'localization', id: 'HeaderLanguageForm', class: 'localization-form' -%}
                      <div class="disclosure">
                        <button
                          type="button"
                          class="disclosure__button localization-form__select localization-selector link link--text caption-large color-accent-1"
                          aria-expanded="false"
                          aria-controls="HeaderLanguage-list"
                          aria-describedby="HeaderLanguageLabel"
                        >
                          <span class="localization-text">
                            {{ localization.language.endonym_name | capitalize }}
                          </span>
                          <svg viewBox="0 0 10 6" class="icon icon-caret" aria-hidden="true" focusable="false">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M9.354.646a.5.5 0 00-.708 0L5 4.293 1.354.646a.5.5 0 00-.708.708l4 4a.5.5 0 00.708 0l4-4a.5.5 0 000-.708z" fill="currentColor">
                            </path>
                          </svg>
                        </button>
                        <div class="disclosure__list-wrapper" hidden>
                          <ul id="HeaderLanguage-list" role="list" class="disclosure__list list-unstyled">
                            {%- for language in localization.available_languages -%}
                              <li class="disclosure__item" tabindex="-1">
                                <a class="link link--text disclosure__link caption-large{% if language.iso_code == localization.language.iso_code %} disclosure__link--active{% endif %} focus-inset" 
                                   href="#"
                                   {% if language.iso_code == localization.language.iso_code %}aria-current="true"{% endif %}
                                   data-value="{{ language.iso_code }}">
                                  {{ language.endonym_name | capitalize }}
                                </a>
                              </li>
                            {%- endfor -%}
                          </ul>
                        </div>
                      </div>
                      <input type="hidden" name="locale_code" value="{{ localization.language.iso_code }}">
                    {%- endform -%}
                  </localization-form>
                {%- endif -%}
              </div>
            </div>
          {% when 'center_logo' %}
            <div class="mk-header__desktop-logo-center">
              {%- render 'mk-header-logo' -%}
            </div>
            
            <div class="mk-header__desktop-nav">
              {%- if section.settings.show_navigation_menu and section.settings.menu != blank -%}
                <nav class="mk-header__nav">
                  {%- liquid
                    if section.settings.menu_type_desktop == 'dropdown'
                      render 'header-dropdown-menu'
                    elsif section.settings.menu_type_desktop == 'mega'
                      render 'header-mega-menu'
                    else
                      render 'mk-header-menu-inline'
                    endif
                  -%}
                </nav>
              {%- endif -%}
            </div>

            <div class="mk-header__desktop-right">
              <div class="header__icons">
                {%- if section.settings.enable_country_selector and localization.available_countries.size > 1 -%}
                  <localization-form>
                    {%- form 'localization', id: 'HeaderCountryForm2', class: 'localization-form' -%}
                      <div class="disclosure">
                        <button type="button" class="disclosure__button localization-form__select localization-selector link link--text caption-large">
                          {{ localization.country.name }} ({{ localization.country.currency.iso_code }})
                          <svg viewBox="0 0 10 6" class="icon icon-caret">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M9.354.646a.5.5 0 00-.708 0L5 4.293 1.354.646a.5.5 0 00-.708.708l4 4a.5.5 0 00.708 0l4-4a.5.5 0 000-.708z"/>
                          </svg>
                        </button>
                        <div class="disclosure__list-wrapper" hidden>
                          <ul id="HeaderCountry-list2" role="list" class="disclosure__list list-unstyled">
                            {%- for country in localization.available_countries -%}
                              <li class="disclosure__item" tabindex="-1">
                                <a class="link link--text disclosure__link caption-large{% if country.iso_code == localization.country.iso_code %} disclosure__link--active{% endif %}" href="#" data-value="{{ country.iso_code }}">
                                  {{ country.name }} ({{ country.currency.iso_code }} {{ country.currency.symbol }})
                                </a>
                              </li>
                            {%- endfor -%}
                          </ul>
                        </div>
                      </div>
                      <input type="hidden" name="country_code" value="{{ localization.country.iso_code }}">
                    {%- endform -%}
                  </localization-form>
                {%- endif -%}
                
                {%- comment -%} Account icon - always visible {%- endcomment -%}
                <a href="{%- if customer -%}{{ routes.account_url }}{%- else -%}{{ routes.account_login_url }}{%- endif -%}" class="header__icon header__icon--account link focus-inset">
                  <span class="svg-wrapper">{{ 'icon-account.svg' | inline_asset_content }}</span>
                  <span class="visually-hidden">{{ 'customer.account_fallback' | t }}</span>
                </a>

                <a href="{{ routes.cart_url }}" class="header__icon header__icon--cart link focus-inset">
                  <span class="svg-wrapper">{{ 'icon-cart.svg' | inline_asset_content }}</span>
                  <span class="visually-hidden">{{ 'templates.cart.cart' | t }}</span>
                  {%- if cart != empty -%}
                    <div class="cart-count-bubble">
                      {%- if cart.item_count < 100 -%}
                        <span aria-hidden="true">{{ cart.item_count }}</span>
                      {%- endif -%}
                      <span class="visually-hidden">{{ 'sections.header.cart_count' | t: count: cart.item_count }}</span>
                    </div>
                  {%- endif -%}
                </a>
              </div>
              {%- if has_app_block -%}
                {%- for block in section.blocks -%}
                  {%- if block.type == '@app' -%}
                    <div class="mk-header__app-block">
                      {% render block %}
                    </div>
                  {%- endif -%}
                {%- endfor -%}
              {%- endif -%}
            </div>
        {% endcase %}
      </div>
    </header>
  </div>
</{{ header_tag }}>
</div>

{%- comment -%} Mobile Bottom Navigation {%- endcomment -%}
{%- if section.settings.show_mobile_bottom_nav -%}
<nav class="mk-mobile-bottom-nav small-up-hide" id="mk-mobile-bottom-nav">
  <div class="mk-mobile-bottom-nav__container">
    {%- comment -%} Home {%- endcomment -%}
    <a href="{{ routes.root_url }}" class="mk-mobile-bottom-nav__item" aria-label="Home">
      <span class="mk-mobile-bottom-nav__icon">
        {% if section.settings.mobile_nav_home_icon != blank %}
          {{ section.settings.mobile_nav_home_icon | inline_asset_content }}
        {% else %}
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
            <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
          </svg>
        {% endif %}
      </span>
      <span class="mk-mobile-bottom-nav__label">Home</span>
    </a>

    {%- comment -%} Search {%- endcomment -%}
    <button type="button" class="mk-mobile-bottom-nav__item" id="mk-mobile-search-toggle" aria-label="{{ 'general.search.search' | t }}">
      <span class="mk-mobile-bottom-nav__icon">
        {% if section.settings.mobile_nav_search_icon != blank %}
          {{ section.settings.mobile_nav_search_icon | inline_asset_content }}
        {% else %}
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
          </svg>
        {% endif %}
      </span>
      <span class="mk-mobile-bottom-nav__label">{{ 'general.search.search' | t }}</span>
    </button>

    {%- comment -%} Collections {%- endcomment -%}
    <a href="{{ collections[section.settings.mobile_nav_collection].url | default: '/collections/all' }}" class="mk-mobile-bottom-nav__item" aria-label="{{ section.settings.mobile_nav_collection_label | default: 'Collections' }}">
      <span class="mk-mobile-bottom-nav__icon">
        {% if section.settings.mobile_nav_collection_icon != blank %}
          {{ section.settings.mobile_nav_collection_icon | inline_asset_content }}
        {% else %}
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
          </svg>
        {% endif %}
      </span>
      <span class="mk-mobile-bottom-nav__label">{{ section.settings.mobile_nav_collection_label | default: 'Collections' }}</span>
    </a>

    {%- comment -%} Account {%- endcomment -%}
    <a href="{%- if customer -%}{{ routes.account_url }}{%- else -%}{{ routes.account_login_url }}{%- endif -%}" class="mk-mobile-bottom-nav__item" aria-label="{{ 'customer.account_fallback' | t }}">
      <span class="mk-mobile-bottom-nav__icon">
        {% if section.settings.mobile_nav_account_icon != blank %}
          {{ section.settings.mobile_nav_account_icon | inline_asset_content }}
        {% else %}
          {{ 'icon-account.svg' | inline_asset_content }}
        {% endif %}
      </span>
      <span class="mk-mobile-bottom-nav__label">{{ 'customer.account_fallback' | t }}</span>
    </a>
  </div>
</nav>
{%- endif -%}

{%- if settings.cart_type == 'notification' -%}
  {%- render 'cart-notification',
    color_scheme: section.settings.color_scheme,
    desktop_menu_type: section.settings.menu_type_desktop
  -%}
{%- endif -%}

{% comment %} 
      Enhanced Sticky Header JavaScript 
{% endcomment %}
{% javascript %}
  class MKStickyHeader extends HTMLElement {
    constructor() {
      super();
    }

    connectedCallback() {
      this.header = document.querySelector('#mk-header');
      this.headerIsAlwaysSticky = this.getAttribute('data-sticky-type') === 'always';
      this.headerBounds = {};
      this.currentScrollTop = 0;
      this.preventReveal = false;

      this.setHeaderHeight();

      window.matchMedia('(max-width: 990px)').addEventListener('change', this.setHeaderHeight.bind(this));

      if (this.headerIsAlwaysSticky) {
        this.header.classList.add('mk-header-sticky');
      }

      this.onScrollHandler = this.onScroll.bind(this);
      window.addEventListener('scroll', this.onScrollHandler, false);

      this.createObserver();
    }

    setHeaderHeight() {
      document.documentElement.style.setProperty('--mk-header-height', `${
        this.header.offsetHeight
      }px`);
    }

    disconnectedCallback() {
      window.removeEventListener('scroll', this.onScrollHandler);
    }

    createObserver() {
      let observer = new IntersectionObserver((entries, observer) => {
        this.headerBounds = entries[0].intersectionRect;
        observer.disconnect();
      });

      observer.observe(this.header);
    }

    onScroll() {
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

      if (scrollTop > this.currentScrollTop && scrollTop > this.headerBounds.bottom) {
        this.header.classList.add('scrolled-past-header');
        if (!this.preventHide) {
          requestAnimationFrame(this.hide.bind(this));
        }
      } else if (scrollTop < this.currentScrollTop && scrollTop > this.headerBounds.bottom) {
        this.header.classList.add('scrolled-past-header');
        if (!this.preventReveal) {
          requestAnimationFrame(this.reveal.bind(this));
        }
      } else if (scrollTop <= this.headerBounds.top) {
        this.header.classList.remove('scrolled-past-header');
        requestAnimationFrame(this.reset.bind(this));
      }

      this.currentScrollTop = scrollTop;
    }

    hide() {
      if (this.headerIsAlwaysSticky) return;
      


      this.header.classList.add('mk-header-hidden', 'mk-header-sticky');
    }

    reveal() {
      if (this.headerIsAlwaysSticky) return;
      


      this.header.classList.add('mk-header-sticky');
      this.header.classList.remove('mk-header-hidden');
    }

    reset() {
      if (this.headerIsAlwaysSticky) return;
      


      this.header.classList.remove('mk-header-hidden', 'mk-header-sticky');
    }
  }

  customElements.define('sticky-header', MKStickyHeader);

  // Mobile Bottom Navigation functionality
  document.addEventListener('DOMContentLoaded', function() {
    const mobileBottomNav = document.getElementById('mk-mobile-bottom-nav');
    const searchToggle = document.getElementById('mk-mobile-search-toggle');
    
    // Only initialize on mobile devices
    function isMobile() {
      return window.innerWidth <= 749;
    }
    
    // Add bottom padding to body when bottom nav is visible (mobile only)
    if (mobileBottomNav && isMobile()) {
      document.body.classList.add('has-mobile-bottom-nav');
    }

    // Update body class on resize
    window.addEventListener('resize', function() {
      if (mobileBottomNav) {
        if (isMobile()) {
          document.body.classList.add('has-mobile-bottom-nav');
        } else {
          document.body.classList.remove('has-mobile-bottom-nav');
        }
      }
    });

    // Handle search toggle (mobile only)
    if (searchToggle && isMobile()) {
      searchToggle.addEventListener('click', function() {
        // Toggle search modal/drawer
        const searchModal = document.querySelector('modal-opener[data-modal="#Search"]');
        const searchDrawer = document.querySelector('header-drawer .search');
        
        if (searchModal) {
          searchModal.click();
        } else if (searchDrawer) {
          // For drawer-style search, you might need to implement custom logic
          console.log('Search functionality needs to be implemented for this theme setup');
        }
      });
    }

    // Handle active state for current page (mobile only)
    if (mobileBottomNav && isMobile()) {
      const currentUrl = window.location.pathname;
      const navItems = document.querySelectorAll('.mk-mobile-bottom-nav__item');
      
      navItems.forEach(item => {
        const itemUrl = new URL(item.href, window.location.origin).pathname;
        if (currentUrl === itemUrl || (currentUrl === '/' && itemUrl === '/')) {
          item.classList.add('active');
        }
      });
    }

    // Hide bottom nav when scrolling down, show when scrolling up (mobile only)
    if (mobileBottomNav && isMobile()) {
      let lastScrollTop = 0;
      let scrollTimeout;
      
      window.addEventListener('scroll', function() {
        if (!isMobile()) return;
        
        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(() => {
          const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
          
          if (scrollTop > lastScrollTop && scrollTop > 100) {
            // Scrolling down
            mobileBottomNav.classList.add('mk-mobile-bottom-nav--hidden');
          } else {
            // Scrolling up
            mobileBottomNav.classList.remove('mk-mobile-bottom-nav--hidden');
          }
          
          lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
        }, 100);
      });
    }
  });
{% endjavascript %}

{%- comment -%} GTranslate Configuration Script {%- endcomment -%}
{%- if section.settings.translation_provider == 'gtranslate' -%}
<script>
window.gtranslateSettings = {
    "default_language": "{{ section.settings.gtranslate_default_lang | default: 'en' }}",
    "languages": ["{{ section.settings.gtranslate_languages | default: 'en,ar' | split: ',' | join: '","' }}"],
    "wrapper_selector": ".gtranslate_wrapper",
    "alt_flags": {"en": "usa", "ar": "saudi_arabia"},
    "flag_style": "3d",
    "flag_size": 16,
    "switcher_horizontal_position": "right",
    "switcher_vertical_position": "top"
};
</script>
<script src="https://cdn.gtranslate.net/widgets/latest/dropdown.js" defer></script>
{%- endif -%}

{% schema %}
  {
    "name": "MK Header",
    "class": "section-mk-header",
    "enabled_on": {
      "groups": ["header"]
    },
    "settings": [
      {
        "type": "header",
        "content": "Layout Settings"
      },
      {
        "type": "select",
        "id": "desktop_layout",
        "label": "Desktop Layout",
        "options": [
          {
            "value": "left_center_right",
            "label": "Logo Left, Search Center, Account/Cart Right"
          },
          {
            "value": "center_logo",
            "label": "Logo Center, Menu & Icons Below"
          },
          {
            "value": "logo_right",
            "label": "Menu Left, Logo & Icons Right"
          }
        ],
        "default": "left_center_right"
      },
      {
        "type": "range",
        "id": "header_height_desktop",
        "min": 60,
        "max": 150,
        "step": 10,
        "unit": "px",
        "label": "Header Height (Desktop)",
        "default": 80
      },
      {
        "type": "range",
        "id": "header_height_mobile",
        "min": 50,
        "max": 100,
        "step": 5,
        "unit": "px",
        "label": "Header Height (Mobile)",
        "default": 60
      },
      {
        "type": "header",
        "content": "Logo Settings"
      },
      {
        "type": "select",
        "id": "logo_position",
        "label": "Logo Position",
        "options": [
          {
            "value": "left",
            "label": "Left"
          },
          {
            "value": "center",
            "label": "Center"
          },
          {
            "value": "right",
            "label": "Right"
          }
        ],
        "default": "left"
      },
      {
        "type": "range",
        "id": "logo_width",
        "min": 80,
        "max": 300,
        "step": 10,
        "unit": "px",
        "label": "Logo Width (Desktop)",
        "default": 150
      },
      {
        "type": "range",
        "id": "logo_width_mobile",
        "min": 60,
        "max": 200,
        "step": 10,
        "unit": "px",
        "label": "Logo Width (Mobile)",
        "default": 120
      },
      {
        "type": "header",
        "content": "Navigation Settings"
      },
      {
        "type": "link_list",
        "id": "menu",
        "default": "main-menu",
        "label": "Menu"
      },
      {
        "type": "select",
        "id": "menu_type_desktop",
        "label": "Desktop Menu Type",
        "options": [
          {
            "value": "inline",
            "label": "Inline"
          },
          {
            "value": "dropdown",
            "label": "Dropdown"
          },
          {
            "value": "mega",
            "label": "Mega Menu"
          },
          {
            "value": "drawer",
            "label": "Drawer"
          }
        ],
        "default": "inline"
      },
      {
        "type": "range",
        "id": "menu_font_size",
        "min": 12,
        "max": 20,
        "step": 1,
        "unit": "px",
        "label": "Menu Font Size",
        "default": 16
      },
      {
        "type": "select",
        "id": "menu_font_weight",
        "label": "Menu Font Weight",
        "options": [
          {
            "value": "300",
            "label": "Light"
          },
          {
            "value": "400",
            "label": "Normal"
          },
          {
            "value": "500",
            "label": "Medium"
          },
          {
            "value": "600",
            "label": "Semi Bold"
          },
          {
            "value": "700",
            "label": "Bold"
          }
        ],
        "default": "400"
      },
      {
        "type": "checkbox",
        "id": "show_navigation_menu",
        "label": "Show Navigation Menu",
        "default": true,
        "info": "Display main navigation menu in header"
      },
      {
        "type": "select",
        "id": "menu_position_desktop",
        "label": "Menu Position (Desktop)",
        "options": [
          {
            "value": "below_search",
            "label": "Below Search Bar"
          },
          {
            "value": "left_of_search",
            "label": "Left of Search Bar"
          },
          {
            "value": "top_row",
            "label": "Top Row (Full Width)"
          }
        ],
        "default": "top_row"
      },
      {
        "type": "checkbox",
        "id": "show_social_icons",
        "label": "Show Social Icons in Header",
        "default": false
      },
      {
        "type": "header",
        "content": "Header Icons & Features"
      },
      {
        "type": "checkbox",
        "id": "show_search_icon",
        "label": "Show Search Icon",
        "default": true
      },
      {
        "type": "range",
        "id": "icon_size",
        "min": 16,
        "max": 32,
        "step": 2,
        "unit": "px",
        "label": "Icon Size",
        "default": 24
      },
      {
        "type": "range",
        "id": "icons_spacing",
        "min": 8,
        "max": 32,
        "step": 4,
        "unit": "px",
        "label": "Icons Spacing",
        "default": 16
      },
      {
        "type": "header",
        "content": "Sticky Header"
      },
      {
        "type": "checkbox",
        "id": "enable_sticky_header",
        "label": "Enable Sticky Header",
        "default": true
      },
      {
        "type": "select",
        "id": "sticky_header_type",
        "label": "Sticky Header Type",
        "options": [
          {
            "value": "always",
            "label": "Always Sticky"
          },
          {
            "value": "on_scroll_up",
            "label": "Sticky on Scroll Up"
          },
          {
            "value": "reduce_logo_size",
            "label": "Reduce Logo Size"
          }
        ],
        "default": "on_scroll_up"
      },
      {
        "type": "header",
        "content": "Visual Enhancements"
      },
      {
        "type": "checkbox",
        "id": "enable_hover_effects",
        "label": "Enable Hover Effects",
        "default": true,
        "info": "Add smooth hover transitions to buttons and links"
      },
      {
        "type": "checkbox",
        "id": "enable_animations",
        "label": "Enable Animations",
        "default": true,
        "info": "Add loading and interaction animations"
      },
      {
        "type": "range",
        "id": "header_shadow_intensity",
        "min": 0,
        "max": 10,
        "step": 1,
        "label": "Header Shadow Intensity",
        "default": 2,
        "info": "Add depth with shadow (0 = no shadow)"
      },
      {
        "type": "range",
        "id": "border_radius",
        "min": 0,
        "max": 20,
        "step": 2,
        "unit": "px",
        "label": "Header Border Radius",
        "default": 0,
        "info": "Round header corners"
      },
      {
        "type": "header",
        "content": "Transparent Header"
      },
      {
        "type": "checkbox",
        "id": "enable_transparent_header",
        "label": "Enable Transparent Header",
        "info": "Header will be transparent on homepage",
        "default": false
      },
      {
        "type": "header",
        "content": "Search Enhancements"
      },
      {
        "type": "checkbox",
        "id": "enable_search_suggestions",
        "label": "Enable Search Suggestions",
        "default": true,
        "info": "Show product suggestions while typing"
      },
      {
        "type": "checkbox",
        "id": "expand_search_on_focus",
        "label": "Expand Search on Focus",
        "default": false,
        "info": "Make search field wider when clicked"
      },
      {
        "type": "text",
        "id": "search_placeholder",
        "label": "Search Placeholder Text",
        "default": "Search products...",
        "info": "Custom text shown in search field"
      },
      {
        "type": "checkbox",
        "id": "show_search_results_count",
        "label": "Show Results Count",
        "default": true,
        "info": "Display number of search results"
      },
      {
        "type": "header",
        "content": "Cart & User Enhancements"
      },
      {
        "type": "checkbox",
        "id": "enable_mini_cart_preview",
        "label": "Enable Mini Cart Preview",
        "default": true,
        "info": "Show cart contents on hover"
      },
      {
        "type": "checkbox",
        "id": "show_cart_value",
        "label": "Show Cart Value",
        "default": false,
        "info": "Display total cart value next to cart icon"
      },
      {
        "type": "checkbox",
        "id": "enable_account_menu",
        "label": "Enable Account Menu",
        "default": false,
        "info": "Show login/account options in dropdown"
      },
      {
        "type": "checkbox",
        "id": "show_wishlist_icon",
        "label": "Show Wishlist Icon",
        "default": false,
        "info": "Add wishlist/favorites icon to header"
      },
      {
        "type": "header",
        "content": "Mobile Bottom Navigation"
      },
      {
        "type": "checkbox",
        "id": "show_mobile_bottom_nav",
        "label": "Enable Mobile Bottom Navigation",
        "default": true,
        "info": "Show sticky bottom navigation on mobile devices"
      },
      {
        "type": "text",
        "id": "mobile_nav_collection_label",
        "label": "Collections Label",
        "default": "Collections",
        "info": "Text label for collections button"
      },
      {
        "type": "collection",
        "id": "mobile_nav_collection",
        "label": "Collections Link",
        "info": "Choose which collection to link to from bottom navigation"
      },
      {
        "type": "textarea",
        "id": "mobile_nav_home_icon",
        "label": "Custom Home Icon (SVG)",
        "info": "Paste SVG code for custom home icon. Leave empty for default."
      },
      {
        "type": "textarea",
        "id": "mobile_nav_search_icon",
        "label": "Custom Search Icon (SVG)",
        "info": "Paste SVG code for custom search icon. Leave empty for default."
      },
      {
        "type": "textarea",
        "id": "mobile_nav_collection_icon",
        "label": "Custom Collections Icon (SVG)",
        "info": "Paste SVG code for custom collections icon. Leave empty for default."
      },
      {
        "type": "textarea",
        "id": "mobile_nav_account_icon",
        "label": "Custom Account Icon (SVG)",
        "info": "Paste SVG code for custom account icon. Leave empty for default."
      },
      {
        "type": "range",
        "id": "mobile_nav_icon_size",
        "min": 16,
        "max": 32,
        "step": 2,
        "unit": "px",
        "label": "Icon Size",
        "default": 24
      },
      {
        "type": "range",
        "id": "mobile_nav_font_size",
        "min": 8,
        "max": 14,
        "step": 1,
        "unit": "px",
        "label": "Label Font Size",
        "default": 10
      },
      {
        "type": "select",
        "id": "mobile_nav_font_weight",
        "label": "Label Font Weight",
        "options": [
          {
            "value": "400",
            "label": "Normal"
          },
          {
            "value": "500",
            "label": "Medium"
          },
          {
            "value": "600",
            "label": "Semi Bold"
          },
          {
            "value": "700",
            "label": "Bold"
          }
        ],
        "default": "500"
      },
      {
        "type": "range",
        "id": "mobile_nav_padding_vertical",
        "min": 4,
        "max": 16,
        "step": 2,
        "unit": "px",
        "label": "Vertical Padding",
        "default": 8
      },
      {
        "type": "range",
        "id": "mobile_nav_padding_horizontal",
        "min": 8,
        "max": 32,
        "step": 2,
        "unit": "px",
        "label": "Horizontal Padding",
        "default": 16
      },
      {
        "type": "range",
        "id": "mobile_nav_item_padding",
        "min": 4,
        "max": 16,
        "step": 2,
        "unit": "px",
        "label": "Item Padding",
        "default": 8
      },
      {
        "type": "range",
        "id": "mobile_nav_border_thickness",
        "min": 0,
        "max": 4,
        "step": 1,
        "unit": "px",
        "label": "Border Thickness",
        "default": 1
      },
      {
        "type": "range",
        "id": "mobile_nav_border_opacity",
        "min": 0,
        "max": 100,
        "step": 5,
        "unit": "%",
        "label": "Border Opacity",
        "default": 10
      },
      {
        "type": "color_scheme",
        "id": "mobile_nav_color_scheme",
        "label": "Mobile Navigation Color Scheme",
        "default": "background"
      },
      {
        "type": "header",
        "content": "Design & Colors"
      },
      {
        "type": "color_scheme",
        "id": "color_scheme",
        "label": "Header Color Scheme",
        "default": "scheme-1"
      },
      {
        "type": "color_scheme",
        "id": "menu_color_scheme",
        "label": "Mobile Menu Color Scheme",
        "default": "scheme-1"
      },
      {
        "type": "checkbox",
        "id": "show_border",
        "label": "Show Bottom Border",
        "default": true
      },
      {
        "type": "range",
        "id": "border_thickness",
        "min": 0,
        "max": 5,
        "step": 1,
        "unit": "px",
        "label": "Border Thickness",
        "default": 1
      },
      {
        "type": "range",
        "id": "border_opacity",
        "min": 0,
        "max": 100,
        "step": 5,
        "unit": "%",
        "label": "Border Opacity",
        "default": 15
      },
      {
        "type": "header",
        "content": "Search Bar Settings"
      },
      {
        "type": "range",
        "id": "search_bar_max_width",
        "min": 200,
        "max": 600,
        "step": 20,
        "unit": "px",
        "label": "Search Bar Max Width",
        "default": 400
      },
      {
        "type": "range",
        "id": "search_border_width",
        "min": 0,
        "max": 3,
        "step": 1,
        "unit": "px",
        "label": "Search Border Width",
        "default": 1
      },
      {
        "type": "range",
        "id": "search_border_opacity",
        "min": 0,
        "max": 100,
        "step": 5,
        "unit": "%",
        "label": "Search Border Opacity",
        "default": 20
      },
      {
        "type": "range",
        "id": "search_border_radius",
        "min": 0,
        "max": 20,
        "step": 2,
        "unit": "px",
        "label": "Search Border Radius",
        "default": 6
      },
      {
        "type": "range",
        "id": "search_background_opacity",
        "min": 0,
        "max": 100,
        "step": 5,
        "unit": "%",
        "label": "Search Background Opacity",
        "default": 100
      },
      {
        "type": "range",
        "id": "search_padding_vertical",
        "min": 5,
        "max": 20,
        "step": 1,
        "unit": "px",
        "label": "Search Vertical Padding",
        "default": 10
      },
      {
        "type": "range",
        "id": "search_padding_horizontal",
        "min": 10,
        "max": 30,
        "step": 2,
        "unit": "px",
        "label": "Search Horizontal Padding",
        "default": 16
      },
      {
        "type": "range",
        "id": "search_font_size",
        "min": 12,
        "max": 18,
        "step": 1,
        "unit": "px",
        "label": "Search Font Size",
        "default": 14
      },
      {
        "type": "header",
        "content": "Localization Settings"
      },
      {
        "type": "range",
        "id": "localization_padding_vertical",
        "min": 4,
        "max": 16,
        "step": 1,
        "unit": "px",
        "label": "Localization Vertical Padding",
        "default": 8
      },
      {
        "type": "range",
        "id": "localization_padding_horizontal",
        "min": 8,
        "max": 24,
        "step": 2,
        "unit": "px",
        "label": "Localization Horizontal Padding",
        "default": 12
      },
      {
        "type": "range",
        "id": "localization_font_size",
        "min": 11,
        "max": 16,
        "step": 1,
        "unit": "px",
        "label": "Localization Font Size",
        "default": 13
      },
      {
        "type": "select",
        "id": "localization_font_weight",
        "label": "Localization Font Weight",
        "options": [
          {
            "value": "300",
            "label": "Light"
          },
          {
            "value": "400",
            "label": "Normal"
          },
          {
            "value": "500",
            "label": "Medium"
          },
          {
            "value": "600",
            "label": "Semi Bold"
          }
        ],
        "default": "400"
      },
      {
        "type": "range",
        "id": "localization_border_radius",
        "min": 0,
        "max": 12,
        "step": 1,
        "unit": "px",
        "label": "Localization Border Radius",
        "default": 4
      },
      {
        "type": "range",
        "id": "localization_background_opacity",
        "min": 0,
        "max": 100,
        "step": 5,
        "unit": "%",
        "label": "Localization Background Opacity",
        "default": 0
      },
      {
        "type": "range",
        "id": "localization_border_width",
        "min": 0,
        "max": 2,
        "step": 1,
        "unit": "px",
        "label": "Localization Border Width",
        "default": 0
      },
      {
        "type": "range",
        "id": "localization_border_opacity",
        "min": 0,
        "max": 100,
        "step": 5,
        "unit": "%",
        "label": "Localization Border Opacity",
        "default": 15
      },
      {
        "type": "header",
        "content": "Localization"
      },
      {
        "type": "checkbox",
        "id": "enable_country_selector",
        "default": true,
        "label": "Enable Country Selector"
      },
      {
        "type": "checkbox",
        "id": "enable_language_selector",
        "default": true,
        "label": "Enable Language Selector"
      },
      {
        "type": "header",
        "content": "Translation Settings"
      },
      {
        "type": "select",
        "id": "translation_provider",
        "options": [
          {
            "value": "shopify",
            "label": "Shopify Native"
          },
          {
            "value": "gtranslate",
            "label": "GTranslate"
          },
          {
            "value": "custom",
            "label": "Custom (Manual Code)"
          }
        ],
        "default": "shopify",
        "label": "Translation Provider",
        "info": "Choose which translation system to use. You can switch between providers anytime."
      },
      {
        "type": "text",
        "id": "gtranslate_default_lang",
        "default": "en",
        "label": "GTranslate Default Language",
        "info": "Default language code for GTranslate (e.g., en, ar, fr)"
      },
      {
        "type": "text",
        "id": "gtranslate_languages",
        "default": "en,ar",
        "label": "GTranslate Languages",
        "info": "Comma-separated language codes (e.g., en,ar,fr,es)"
      },
      {
        "type": "textarea",
        "id": "custom_translation_code",
        "label": "Custom Translation Code",
        "info": "HTML/JavaScript code for custom translation widget. Only used when 'Custom' is selected."
      },
      {
        "type": "checkbox",
        "id": "enable_customer_avatar",
        "default": true,
        "label": "Enable Customer Avatar"
      },
      {
        "type": "header",
        "content": "Spacing"
      },
      {
        "type": "range",
        "id": "margin_bottom",
        "min": 0,
        "max": 50,
        "step": 2,
        "unit": "px",
        "label": "Margin Bottom",
        "default": 0
      },
      {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 50,
        "step": 2,
        "unit": "px",
        "label": "Padding Top",
        "default": 20
      },
      {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 50,
        "step": 2,
        "unit": "px",
        "label": "Padding Bottom",
        "default": 20
      },
      {
        "type": "range",
        "id": "padding_horizontal",
        "min": 10,
        "max": 50,
        "step": 2,
        "unit": "px",
        "label": "Horizontal Padding",
        "default": 20
      },
      {
        "type": "header",
        "content": "Performance & Accessibility"
      },
      {
        "type": "checkbox",
        "id": "lazy_load_images",
        "label": "Lazy Load Images",
        "default": true,
        "info": "Improve loading speed by loading images when needed"
      },
      {
        "type": "checkbox",
        "id": "enable_keyboard_navigation",
        "label": "Enhanced Keyboard Navigation",
        "default": true,
        "info": "Improve accessibility with keyboard shortcuts"
      },
      {
        "type": "checkbox",
        "id": "enable_screen_reader_support",
        "label": "Screen Reader Support",
        "default": true,
        "info": "Add ARIA labels and descriptions for accessibility"
      },
      {
        "type": "checkbox",
        "id": "preload_critical_resources",
        "label": "Preload Critical Resources",
        "default": true,
        "info": "Preload fonts and icons for faster rendering"
      },
      {
        "type": "header",
        "content": "Advanced Customization"
      },
      {
        "type": "textarea",
        "id": "custom_css",
        "label": "Custom CSS",
        "info": "Add custom styles for advanced header customization"
      },
      {
        "type": "textarea",
        "id": "custom_javascript",
        "label": "Custom JavaScript",
        "info": "Add custom functionality (use with caution)"
      }
    ],
    "blocks": [],
    "presets": [
      {
        "name": "MK Header",
        "settings": {
          "desktop_layout": "left_center_right",
          "header_height_desktop": 120,
          "header_height_mobile": 80,
          "logo_position": "left",
          "logo_width": 250,
          "logo_width_mobile": 180,
          "menu": "main-menu",
          "menu_type_desktop": "inline",
          "enable_sticky_header": true,
          "sticky_header_type": "always",
          "color_scheme": "scheme-1",
          "show_border": true
        }
      }
    ]
  }
{% endschema %}