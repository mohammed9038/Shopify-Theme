#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "Running pre-commit checks..."

# Run Theme Check
echo "Running Theme Check..."
npx shopify theme check

# If there are errors, prevent the commit
if [ $? -ne 0 ]; then
  echo "Theme Check failed. Please fix the issues before committing."
  exit 1
fi

# Run linting
echo "Running linting..."
npm run lint

# If there are errors, prevent the commit
if [ $? -ne 0 ]; then
  echo "Linting failed. Please fix the issues before committing."
  exit 1
fi

# All checks passed
echo "Pre-commit checks passed!"
